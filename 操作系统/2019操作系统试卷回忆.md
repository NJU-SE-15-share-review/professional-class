### 2019操作系统试卷回忆

印象很不深刻，期待大家补充。

#### 一、选择题

基本是MOOC原题，但稍有变化，请注意。

#### 二、简答题

今年没有考银行家算法，非常奇怪。

1. 自顶向下简述I/O软件的四个层次。

2. （电梯调度算法，只是换了个数据）

3. fork()的进程数，并画出进程树。

   ```c
   main(){
       fork(); // pc, 进程A
       fork();
       fork();
   }
   ```

4. 12个直接地址，每个盘块1024B，每个盘块可以存放256个盘块地址，计算50M的文件和100M的文件各自占用的盘块数。

5. 简述虚存分页的原理，并画出流程图。

#### 三、计算题

1. 进程调度，写出执行序列：

   | 进程 | 到达时间 | 处理时间 |
   | ---- | -------- | -------- |
   | A    | 0        | 1        |
   | B    | 0.5      | 9        |
   | C    | 1.5      | 1        |
   | D    | 2.5      | 9        |

   1. RR,q=1
   2. FBack,q=1
   3. FBack,q=2^i^

2. 页面替换算法：LRU和Clock

3. （作业原题）

   有一多道程序设计系统，1）进程调度（处理器低级调度）采用时间片调度算法，不考虑进程的输入输出和操作系统的调度开销；2）存储管理采用可变分区方式，用户空间为100K，采用最先适应算法分配主存且不允许移动；3）系统配有4台磁带机，对磁带机采用静态分配策略。今有如下作业序列：

   | 作业名 | 进输入井时间 | 需执行时间 | 主存量要求 | 申请磁带机数 |
   | ------ | ------------ | ---------- | ---------- | ------------ |
   | J1     | 10:00        | 25分钟     | 15K        | 2            |
   | J2     | 10:20        | 30分钟     | 60K        | 1            |
   | J3     | 10:30        | 10分钟     | 50K        | 3            |
   | J4     | 10:35        | 20分钟     | 10K        | 2            |
   | J5     | 10:40        | 15分钟     | 30K        | 2            |

   假定操作系统从11:00开始调度，当作业调度采用“响应比最高优先算法”时，分别写出J1、J2、J3、J4、J5装入主存和离开主存的时间。

   J2装入主存时间：      ；   J3装入主存时间：        ；

   J4装入主存时间：      ；   J5装入主存时间：        ；

4. （感谢tcj提供）PV操作。

   一个仓库，最多能放A，B产品各m个。每次生产需要A，B产品各一个。两组供应商分别生产A，B产品。当某个产品的数量比另一个产品数量多n(n<m)个时，仓库暂时停止该产品的进货，集中进货另一个产品。

5. （感谢tcj提供）管程。

   三个生产者P1，P2，P3进行生产活动，需要从供应商仓库获得原料。原料有三种：糖，橘子精，水。每个生产者已经有其中的两种。当容器为空时，供应商会往容器放一种原料。
   P1已经有：糖，橘子精
   P2已经有：糖，水
   P3已经有：橘子精，水