# **计算机网络实验指南:**
<div align=right>
<h2>那些老师所未讲过的踩过的坑</br>
</div>

---
<div align=right>
Author: 2016级 杨宇清

frostwing98@github.com
Contact: 498924217@qq.com
Nanjing Univerisity Software College
</div>

---
## 0x00 几点区别
### 1.路由器和交换机
* 路由器是下面三个，交换机是最上面一个。
* 路由器有三个以太网接口（Ethernet）。由于机器升级成了GigaBitEthernet接口，所以和实验手册上面的编号不同。实验手册上分别是 **f0/0**,**f0/1**,**f0/2**,而实际上分别是 **G0/0/0**，**G0/0/1**,**G0/0/2**.这个接口是用来连接终端的——没错，就是你电脑上的水晶头。
* 路由器上有两个串行接口（Serial Port）就是接线是深蓝色的、一头扁扁的那种。另一头是一个巨大的长方形。这负责将两个路由器连接在一起。实验手册上分别是 **s0/0**,**s0/1**,而实际上分别是 **S0/1/0**，**S0/1/1**.
* 交换机上有两排2*24个接口，每上下两个一组，对应一个端口。
* 最后一个要介绍的就是Terminal线，淡蓝色，一头像VGA的接口，接在电脑上；另一头是标准的水晶头，网线那种形状的，接在路由器上。
* 在搭建网络拓扑的时候，一定要确保串行口、以太网口、终端口一一对应，连接正确，否则一定会出现惨痛的结果。
* 最后一定要注意，通过temrinal线在超级终端下给路由器输入命令，和你自己电脑连接路由器，这两个操作走的线是分开的。举例：你配置好了一个服务器，但是你现在想从自己的电脑ping对面的路由器，这个时候直接ping十有八九不通。这个时候请确保如下两点：
    1. 你的线连接正确，连在**正确的路由器**的正确的以太网接口上
    2. 你在电脑网络邻居上配置好了本地连接的tcp/ip协议，将“自动分配（DHCP）“替换成了手动配置，手动配置该电脑的网段和路由器**对应接口**网段一致。
    3. 如果不明白什么是同一网段，请参考网络课程的ppt。
## 0x01 Chapter5 IOS备份
前面两个没什么好说的。照着做就行了。注意一下特权模式<Router#>、设置模式<Router(config)>与普通模式<Router>的区别。有些命令，如ping只能在普通模式使用，又如show ip route只能在#以上模式使用。不要弄错了。如果提示命令错误，排除输入错误，应该检查是否所处的模式是错误的。
### IOS备份这个实验一度已经被判死刑了，原实验手册上说要使用TFTP协议，但是由于UDP协议的不稳定性，估计会超时（个人推测，也有可能是我设置问题），因此在此我推荐用基于tcp的ftp传输协议。命令如下：
>
1. 配置你自己电脑上的ftp服务器，设置一个用户并配置密码
2. 配置自己的电脑，使得自己的电脑与路由器对应口处于同一网段。例如：
    * 路由器G0/0/0 192.168.1.254
    * 本机192.168.1.1
3. 将原来tftp的命令修改一下：
  例如用户名username，密码passwd
  原命令：~~copy flash:****.bin tftp:~~
  现命令：copy flash:****.bin ftp://username:passwd@ 192.168.1.1/
  回车就是了。
4. 不知道bin文件名叫啥的可以show flash，一般只会有一个.bin文件。例如
  isr4300-universalk9.03.16.04b.S.155-3.S4b-ext.SPA.bin

  请确保ftp本机可用。
  请确保接线正确。
  请确保同一网段。


  ## 0x02 交换机与交换机安全
  我做实验的时候没有遇到什么问题。如果有问题来戳我，我来完善这个文档。
  ## 0x03 静态组网、动态RIP
  ![](po.png)
  这个实验要注意一个点。
  配置路由表的时候有三项。目标网段-掩码-下一跳ip。
  下一跳ip是这个网段里包经过的路由器端口的地址！换句话说，是**下一个路由器接收的口**地址，既不是本路由器发出的地址，也不是下一个路由器发出端的地址。
  *举例说明*
  配置2620A，目的是ping通2620B。
  配置路由表，出网段是192.168.20.0.
  下一跳是下一个路由器2621接收包的接口所在ip，也就是2621的左端口。
  如果这里有很多路由器就很容易理解了。一个数据包在网络里面转，当然包要知道下一路由器在这个网段的ip送进路由，不然怎么能够决定自己从哪一条路径走呢？
  **路由器内部不需要管，路由会根据下一跳的ip自行决定从哪一个网段对应的接口发出**

  ---
  目前我就做到这里，之后会继续更新。如有疑问，在这个地方发送issue：
  ##### https://github.com/NJU-SE-15-share-review/professional-class
  ---
   © frostwing98,2016
